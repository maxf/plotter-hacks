<!DOCTYPE HTML>
<html>
  <head>
    <title>Celtic</title>
    <script src="celtic.js"></script>
    <style>
     body {
       margin: 0;
     }
     #canvas {
       width: 100vw;
       height: 100vh;
     }
     #controls {
       position: absolute;
       top: 0;
       background: #ddd;
     }
    </style>
  </head>
  <body>
    <svg id="canvas"></svg>
    <div id="controls">
      <input id="shape1" type="range" min="-2" max="2" step="0.01" /><span id="shape1-value"></span><br/>
      <input id="shape2" type="range" min="-2" max="2" step="0.01" /><span id="shape2-value"></span><br/>
      <input id="nbOrbits" type="range" min="1" max="20" step="1" /><span id="nbOrbits-value"></span><br/>
      <input id="nbNodesPerOrbit" type="range" min="4" max="20" step="1" /><span id="nbNodesPerOrbit-value"></span><br/>
    </div>

    <script>
     var canvas = document.getElementById("canvas");
     var rect = canvas.getBoundingClientRect();
     console.log( rect.width );
     console.log( rect.height);

     let width = rect.width;
     let height = rect.height;
     let shape1 = 1;
     let shape2 = -1.2;
     let nbOrbits = 4;
     let nbNodesPerOrbit = 6;
     document.getElementById('shape1').value = shape1;
     document.getElementById('shape2').value = shape2;
     document.getElementById('nbOrbits').value = nbOrbits;
     document.getElementById('nbNodesPerOrbit').value = nbNodesPerOrbit;
     document.getElementById('shape1-value').innerText = shape1;
     document.getElementById('shape2-value').innerText = shape2;
     document.getElementById('nbOrbits-value').innerText = nbOrbits;
     document.getElementById('nbNodesPerOrbit-value').innerText = nbNodesPerOrbit;
     const go = () => {
       document.getElementById('canvas').outerHTML = celticDraw(
         width,
         height,
         shape1,
         shape2,
         nbOrbits,
         nbNodesPerOrbit
       );
     };
     go();

     document.getElementById('shape1').addEventListener('change', t => {
       shape1 = t.target.value;
       document.getElementById('shape1-value').innerText = shape1;
       go();
     });
     document.getElementById('shape2').addEventListener('change', t => {
       shape2 = t.target.value;
       document.getElementById('shape2-value').innerText = shape2;
       go();
     });
     document.getElementById('nbOrbits').addEventListener('change', t => {
       nbOrbits = t.target.value;
       document.getElementById('nbOrbits-value').innerText = nbOrbits;
       go();
     });
     document.getElementById('nbNodesPerOrbit').addEventListener('change', t => {
       nbNodesPerOrbit = t.target.value;
       document.getElementById('nbNodesPerOrbit-value').innerText = nbNodesPerOrbit;
       go();
     });

    </script>
  </body>
</html>
