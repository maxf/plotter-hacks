<!DOCTYPE HTML>
<html>
  <head>
    <title>Celtic</title>
    <script src="celtic.js"></script>
    <script src="delaunator.min.js"></script>
    <script src="fast-poisson-disk-sampling.min.js"></script>

    <style>
     body {
       margin: 0;
       font-family: sans;
     }
     #canvas {
       width: 100vw;
       height: 100vh;
     }
     #controls {
       position: absolute;
       top: 0;
       background: #ddd;
       padding: 5px;
       border: 1px solid black;
       opacity: 0.8;
     }
    </style>
  </head>
  <body>
    <svg id="canvas"></svg>
    <div id="controls"><div>

    <script type="module">
      import { htmlWidget, widgetValues, activateWidgets } from "./widgets.mjs";
      
      const widgets = [];
      widgets.push(htmlWidget('select', 'graphType', 'Graph type', 'Random', {options: ['Polar', 'Grid', 'Random']}));                        
      widgets.push(htmlWidget('slider', 'margin', 'Margin', 100, { min:0, max:500 }));
      widgets.push(htmlWidget('slider', 'shape1', 'Shape 1', 1, { min:-2, max:2, step: 0.01 }));                   
      widgets.push(htmlWidget('slider', 'shape2', 'Shape 2', 1, { min:-2, max:2, step: 0.01 }));
      widgets.push(htmlWidget('slider', 'nbOrbits', 'Orbits', 3, { min:1, max:20 }));
      widgets.push(htmlWidget('slider', 'nbNodesPerOrbit', 'Nodes per orbit', 3, { min:1, max:20 }));
      widgets.push(htmlWidget('slider', 'cells', 'Cells', 4, { min:2, max:100 }));
      widgets.push(htmlWidget('slider', 'nbNodes', 'Nodes', 4, { min:3, max:100 }));
      widgets.push(htmlWidget('save-svg', 'save', 'Save SVG', null, { svgId: 'canvas', filename: 'celtic.svg' }));

      document.getElementById('controls').innerHTML = widgets.join('');
      activateWidgetsAndRender();
    </script>
  </body>
</html>
