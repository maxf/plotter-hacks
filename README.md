TODO:

- use async await and not callbacks?
- put controls back in a single dictionary?

