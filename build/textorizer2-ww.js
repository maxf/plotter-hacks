// src/pixmap.ts
var Color = class {
  #r;
  #g;
  #b;
  #a;
  constructor(r, g, b, a) {
    this.#r = r;
    this.#g = g;
    this.#b = b;
    this.#a = a;
  }
  toString() {
    return "rgba(" + Math.round(this.#r) + "," + Math.round(this.#g) + "," + Math.round(this.#b) + "," + Math.round(this.#a) + ")";
  }
  isWhite() {
    return this.#r + this.#g + this.#b >= 3 * 255;
  }
  brightness() {
    return 0.2126 * this.#r + 0.7152 * this.#g + 0.0722 * this.#b;
  }
};
var Pixmap = class {
  canvas;
  width;
  height;
  context;
  constructor(canvas) {
    this.canvas = canvas;
    this.width = this.canvas.width;
    this.height = this.canvas.height;
  }
  colorAverageAt(x, y, radius) {
    const xi = Math.floor(x);
    const yi = Math.floor(y);
    let index;
    let resultR = 0, resultG = 0, resultB = 0;
    let count = 0;
    for (let i = -radius; i <= radius; i++) {
      for (let j = -radius; j <= radius; j++) {
        if (xi + i >= 0 && xi + i < this.width && yi + j >= 0 && yi + j < this.height) {
          count++;
          index = 4 * (xi + i + this.width * (yi + j));
          if (this.canvas.data[index + 3] === 0) {
            resultR += 255;
            resultG += 255;
            resultB += 255;
          } else {
            resultR += this.canvas.data[index];
            resultG += this.canvas.data[index + 1];
            resultB += this.canvas.data[index + 2];
          }
        }
      }
    }
    if (count === 0) {
      return new Color(255, 255, 255, 1);
    } else {
      return new Color(resultR / count, resultG / count, resultB / count, 1);
    }
  }
  brightnessAverageAt(x, y, radius) {
    return this.colorAverageAt(x, y, radius).brightness();
  }
  colorAt(x, y) {
    const xi = Math.floor(x);
    const yi = Math.floor(y);
    let index;
    let resultR = 0, resultG = 0, resultB = 0;
    if (xi >= 0 && xi < this.width && yi >= 0 && yi < this.height) {
      index = 4 * (xi + this.width * yi);
      if (this.canvas.data[index + 3] === 0) {
        resultR = 255;
        resultG = 255;
        resultB = 255;
      } else {
        resultR = this.canvas.data[index];
        resultG = this.canvas.data[index + 1];
        resultB = this.canvas.data[index + 2];
      }
      return new Color(resultR, resultG, resultB, 1);
    } else {
      return new Color(255, 255, 255, 1);
    }
  }
  brightnessAt(x, y) {
    return this.colorAt(x, y).brightness();
  }
  gradientAt(x, y) {
    if (x < 1 || x > this.width - 2 || y < 1 || y > this.height - 2) {
      return [0, 0];
    }
    const xi = Math.floor(x);
    const yi = Math.floor(y);
    const sobelX = [
      [-1, 0, 1],
      [-2, 0, 2],
      [-1, 0, 1]
    ];
    const sobelY = [
      [-1, -2, -1],
      [0, 0, 0],
      [1, 2, 1]
    ];
    let gx = 0;
    let gy = 0;
    for (let i = -1; i <= 1; i++) {
      for (let j = -1; j <= 1; j++) {
        const brightness = this.brightnessAt(xi + i, yi + j);
        gx += brightness * sobelX[i + 1][j + 1];
        gy += brightness * sobelY[i + 1][j + 1];
      }
    }
    return [gx, gy];
  }
};

// src/textorizer2-ww.ts
var Textorizer2 = class {
  #image;
  #cutoff;
  #text;
  #fontSize;
  #textIndex;
  #nbLayers;
  #lineHeight;
  constructor(params, imageData) {
    this.#image = new Pixmap(imageData);
    this.#text = params.text;
    this.#cutoff = params.cutoff;
    this.#fontSize = params.fontSize;
    this.#textIndex = 0;
    this.#nbLayers = params.nbLayers;
    this.#lineHeight = params.lineHeight;
  }
  #toSvgScanLine(row, cutoff, dx = 0, dy = 0) {
    const w = this.#image.width;
    let x = 0;
    const svg = [];
    while (x <= w) {
      const imageLevel = this.#image.brightnessAt(x, row);
      let glyph, glyphInfo;
      if (imageLevel < cutoff) {
        glyph = this.#text[this.#textIndex];
        glyphInfo = this.#glyphs[glyph];
        if (glyph !== " ") {
          const scale = this.#fontSize * 1e-3;
          svg.push(`<path data-glyph="${glyph}" vector-effect="non-scaling-stroke" d="${glyphInfo[2]}" transform="translate(${x + dx}, ${row + dy}) scale(${scale},${-scale})" />`);
        }
        this.#textIndex = (this.#textIndex + 1) % this.#text.length;
      } else {
        glyph = " ";
        glyphInfo = this.#glyphs[" "];
      }
      x += glyphInfo[1] * this.#fontSize * 1e-3;
    }
    const content = svg.join("");
    return content === "" ? "" : `<g class="scan-line" data-row="${row}">${content}</g>`;
  }
  #toSvgScan(cutoff, dx = 0, dy = 0) {
    const h = this.#image.height;
    const svg = [];
    for (let row = this.#fontSize; row <= h; row += this.#fontSize) {
      svg.push(this.#toSvgScanLine(row, cutoff, dx, dy));
    }
    const scan = svg.join("");
    return scan === "" ? "" : `<g id="scan">${scan}</g>`;
  }
  // <font id="HersheySans1" horiz-adv-x="378" >
  // <font-face
  // font-family="Hershey Sans 1-stroke"
  // units-per-em="1000"
  // ascent="800"
  // descent="-200"
  // cap-height="500"
  // x-height="300"
  // />
  //<missing-glyph horiz-adv-x="378" />
  #glyphs = {
    " ": ["space", 378, ""],
    "!": ["exclam", 315, "M 315 662 L 315 220 M 315 63 L 284 31.5 L 315 0 L 346 31.5 L 315 63"],
    '"': ["quotedbl", 504, "M 220 662 L 220 441 M 472 662 L 472 441"],
    "#": ["numbersign", 662, "M 441 788 L 220 -220 M 630 788 L 410 -220 M 220 378 L 662 378 M 189 189 L 630 189"],
    "$": ["dollar", 630, "M 346 788 L 346 -126 M 472 788 L 472 -126 M 630 567 L 567 630 L 472 662 L 346 662 L 252 630 L 189 567 L 189 504 L 220 441 L 252 410 L 315 378 L 504 315 L 567 284 L 598 252 L 630 189 L 630 94.5 L 567 31.5 L 472 0 L 346 0 L 252 31.5 L 189 94.5"],
    "%": ["percent", 756, "M 756 662 L 189 0 M 346 662 L 410 598 L 410 536 L 378 472 L 315 441 L 252 441 L 189 504 L 189 567 L 220 630 L 284 662 L 346 662 L 410 630 L 504 598 L 598 598 L 693 630 L 756 662 M 630 220 L 567 189 L 536 126 L 536 63 L 598 0 L 662 0 L 724 31.5 L 756 94.5 L 756 158 L 693 220 L 630 220"],
    "&": ["ampersand", 819, "M 819 378 L 819 410 L 788 441 L 756 441 L 724 410 L 693 346 L 630 189 L 567 94.5 L 504 31.5 L 441 0 L 315 0 L 252 31.5 L 220 63 L 189 126 L 189 189 L 220 252 L 252 284 L 472 410 L 504 441 L 536 504 L 536 567 L 504 630 L 441 662 L 378 630 L 346 567 L 346 504 L 378 410 L 441 315 L 598 94.5 L 662 31.5 L 724 0 L 788 0 L 819 31.5 L 819 63"],
    "'": ["quotesingle", 315, "M 252 598 L 220 630 L 252 662 L 284 630 L 284 567 L 252 504 L 220 472"],
    "(": ["parenleft", 441, "M 441 788 L 378 724 L 315 630 L 252 504 L 220 346 L 220 220 L 252 63 L 315 -63 L 378 -158 L 441 -220"],
    ")": ["parenright", 441, "M 189 788 L 252 724 L 315 630 L 378 504 L 410 346 L 410 220 L 378 63 L 315 -63 L 252 -158 L 189 -220"],
    "*": ["asterisk", 504, "M 346 472 L 346 94.5 M 189 378 L 504 189 M 504 378 L 189 189"],
    "+": ["plus", 819, "M 504 567 L 504 0 M 220 284 L 788 284"],
    ",": ["comma", 252, "M 252 126 L 220 94.5 L 189 126 L 220 158 L 252 126 L 252 63 L 189 0"],
    "-": ["hyphen", 819, "M 220 284 L 788 284"],
    ".": ["period", 252, "M 220 158 L 189 126 L 220 94.5 L 252 126 L 220 158"],
    "/": ["slash", 693, "M 724 788 L 158 -220"],
    "0": ["zero", 630, "M 378 662 L 284 630 L 220 536 L 189 378 L 189 284 L 220 126 L 284 31.5 L 378 0 L 441 0 L 536 31.5 L 598 126 L 630 284 L 630 378 L 598 536 L 536 630 L 441 662 L 378 662"],
    "1": ["one", 630, "M 284 536 L 346 567 L 441 662 L 441 0"],
    "2": ["two", 630, "M 220 504 L 220 536 L 252 598 L 284 630 L 346 662 L 472 662 L 536 630 L 567 598 L 598 536 L 598 472 L 567 410 L 504 315 L 189 0 L 630 0"],
    "3": ["three", 630, "M 252 662 L 598 662 L 410 410 L 504 410 L 567 378 L 598 346 L 630 252 L 630 189 L 598 94.5 L 536 31.5 L 441 0 L 346 0 L 252 31.5 L 220 63 L 189 126"],
    "4": ["four", 630, "M 504 662 L 189 220 L 662 220 M 504 662 L 504 0"],
    "5": ["five", 630, "M 567 662 L 252 662 L 220 378 L 252 410 L 346 441 L 441 441 L 536 410 L 598 346 L 630 252 L 630 189 L 598 94.5 L 536 31.5 L 441 0 L 346 0 L 252 31.5 L 220 63 L 189 126"],
    "6": ["six", 630, "M 598 567 L 567 630 L 472 662 L 410 662 L 315 630 L 252 536 L 220 378 L 220 220 L 252 94.5 L 315 31.5 L 410 0 L 441 0 L 536 31.5 L 598 94.5 L 630 189 L 630 220 L 598 315 L 536 378 L 441 410 L 410 410 L 315 378 L 252 315 L 220 220"],
    "7": ["seven", 630, "M 630 662 L 315 0 M 189 662 L 630 662"],
    "8": ["eight", 630, "M 346 662 L 252 630 L 220 567 L 220 504 L 252 441 L 315 410 L 441 378 L 536 346 L 598 284 L 630 220 L 630 126 L 598 63 L 567 31.5 L 472 0 L 346 0 L 252 31.5 L 220 63 L 189 126 L 189 220 L 220 284 L 284 346 L 378 378 L 504 410 L 567 441 L 598 504 L 598 567 L 567 630 L 472 662 L 346 662"],
    "9": ["nine", 630, "M 598 441 L 567 346 L 504 284 L 410 252 L 378 252 L 284 284 L 220 346 L 189 441 L 189 472 L 220 567 L 284 630 L 378 662 L 410 662 L 504 630 L 567 567 L 598 441 L 598 284 L 567 126 L 504 31.5 L 410 0 L 346 0 L 252 31.5 L 220 94.5"],
    ":": ["colon", 252, "M 220 378 L 189 346 L 220 315 L 252 346 L 220 378 M 220 158 L 189 126 L 220 94.5 L 252 126 L 220 158"],
    ";": ["semicolon", 252, "M 220 378 L 189 346 L 220 315 L 252 346 L 220 378 M 252 126 L 220 94.5 L 189 126 L 220 158 L 252 126 L 252 63 L 189 0"],
    "&#x3c;": ["less", 756, "M 724 567 L 220 284 L 724 0"],
    "=": ["equal", 819, "M 220 378 L 788 378 M 220 189 L 788 189"],
    "&#x3e;": ["greater", 756, "M 220 567 L 724 284 L 220 0"],
    "?": ["question", 567, "M 189 504 L 189 536 L 220 598 L 252 630 L 315 662 L 441 662 L 504 630 L 536 598 L 567 536 L 567 472 L 536 410 L 504 378 L 378 315 L 378 220 M 378 63 L 346 31.5 L 378 0 L 410 31.5 L 378 63"],
    "@": ["at", 850, "M 662 410 L 630 472 L 567 504 L 472 504 L 410 472 L 378 441 L 346 346 L 346 252 L 378 189 L 441 158 L 536 158 L 598 189 L 630 252 M 472 504 L 410 441 L 378 346 L 378 252 L 410 189 L 441 158 M 662 504 L 630 252 L 630 189 L 693 158 L 756 158 L 819 220 L 850 315 L 850 378 L 819 472 L 788 536 L 724 598 L 662 630 L 567 662 L 472 662 L 378 630 L 315 598 L 252 536 L 220 472 L 189 378 L 189 284 L 220 189 L 252 126 L 315 63 L 378 31.5 L 472 0 L 567 0 L 662 31.5 L 724 63 L 756 94.5 M 693 504 L 662 252 L 662 189 L 693 158"],
    "A": ["A", 567, "M 378 662 L 126 0 M 378 662 L 630 0 M 220 220 L 536 220"],
    "B": ["B", 662, "M 220 662 L 220 0 M 220 662 L 504 662 L 598 630 L 630 598 L 662 536 L 662 472 L 630 410 L 598 378 L 504 346 M 220 346 L 504 346 L 598 315 L 630 284 L 662 220 L 662 126 L 630 63 L 598 31.5 L 504 0 L 220 0"],
    "C": ["C", 662, "M 662 504 L 630 567 L 567 630 L 504 662 L 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158"],
    "D": ["D", 662, "M 220 662 L 220 0 M 220 662 L 441 662 L 536 630 L 598 567 L 630 504 L 662 410 L 662 252 L 630 158 L 598 94.5 L 536 31.5 L 441 0 L 220 0"],
    "E": ["E", 598, "M 220 662 L 220 0 M 220 662 L 630 662 M 220 346 L 472 346 M 220 0 L 630 0"],
    "F": ["F", 567, "M 220 662 L 220 0 M 220 662 L 630 662 M 220 346 L 472 346"],
    "G": ["G", 662, "M 662 504 L 630 567 L 567 630 L 504 662 L 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 662 252 M 504 252 L 662 252"],
    "H": ["H", 693, "M 220 662 L 220 0 M 662 662 L 662 0 M 220 346 L 662 346"],
    "I": ["I", 252, "M 220 662 L 220 0"],
    "J": ["J", 504, "M 472 662 L 472 158 L 441 63 L 410 31.5 L 346 0 L 284 0 L 220 31.5 L 189 63 L 158 158 L 158 220"],
    "K": ["K", 662, "M 220 662 L 220 0 M 662 662 L 220 220 M 378 378 L 662 0"],
    "L": ["L", 536, "M 220 662 L 220 0 M 220 0 L 598 0"],
    "M": ["M", 756, "M 220 662 L 220 0 M 220 662 L 472 0 M 724 662 L 472 0 M 724 662 L 724 0"],
    "N": ["N", 693, "M 220 662 L 220 0 M 220 662 L 662 0 M 662 662 L 662 0"],
    "O": ["O", 693, "M 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 693 252 L 693 410 L 662 504 L 630 567 L 567 630 L 504 662 L 378 662"],
    "P": ["P", 662, "M 220 662 L 220 0 M 220 662 L 504 662 L 598 630 L 630 598 L 662 536 L 662 441 L 630 378 L 598 346 L 504 315 L 220 315"],
    "Q": ["Q", 693, "M 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 693 252 L 693 410 L 662 504 L 630 567 L 567 630 L 504 662 L 378 662 M 472 126 L 662 -63"],
    "R": ["R", 662, "M 220 662 L 220 0 M 220 662 L 504 662 L 598 630 L 630 598 L 662 536 L 662 472 L 630 410 L 598 378 L 504 346 L 220 346 M 441 346 L 662 0"],
    "S": ["S", 630, "M 630 567 L 567 630 L 472 662 L 346 662 L 252 630 L 189 567 L 189 504 L 220 441 L 252 410 L 315 378 L 504 315 L 567 284 L 598 252 L 630 189 L 630 94.5 L 567 31.5 L 472 0 L 346 0 L 252 31.5 L 189 94.5"],
    "T": ["T", 504, "M 346 662 L 346 0 M 126 662 L 567 662"],
    "U": ["U", 693, "M 220 662 L 220 189 L 252 94.5 L 315 31.5 L 410 0 L 472 0 L 567 31.5 L 630 94.5 L 662 189 L 662 662"],
    "V": ["V", 567, "M 126 662 L 378 0 M 630 662 L 378 0"],
    "W": ["W", 756, "M 158 662 L 315 0 M 472 662 L 315 0 M 472 662 L 630 0 M 788 662 L 630 0"],
    "X": ["X", 630, "M 189 662 L 630 0 M 630 662 L 189 0"],
    "Y": ["Y", 567, "M 126 662 L 378 346 L 378 0 M 630 662 L 378 346"],
    "Z": ["Z", 630, "M 630 662 L 189 0 M 189 662 L 630 662 M 189 0 L 630 0"],
    "[": ["bracketleft", 441, "M 220 788 L 220 -220 M 252 788 L 252 -220 M 220 788 L 441 788 M 220 -220 L 441 -220"],
    "\\": ["backslash", 441, "M 94.5 662 L 536 -94.5"],
    "]": ["bracketright", 441, "M 378 788 L 378 -220 M 410 788 L 410 -220 M 189 788 L 410 788 M 189 -220 L 410 -220"],
    "^": ["asciicircum", 504, "M 346 724 L 94.5 284 M 346 724 L 598 284"],
    "_": ["underscore", 567, "M 94.5 -220 L 662 -220"],
    "`": ["grave", 252, "M 252 504 L 189 441 L 189 378 L 220 346 L 252 378 L 220 410 L 189 378"],
    "a": ["a", 598, "M 567 441 L 567 0 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5"],
    "b": ["b", 598, "M 220 662 L 220 0 M 220 346 L 284 410 L 346 441 L 441 441 L 504 410 L 567 346 L 598 252 L 598 189 L 567 94.5 L 504 31.5 L 441 0 L 346 0 L 284 31.5 L 220 94.5"],
    "c": ["c", 567, "M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5"],
    "d": ["d", 598, "M 567 662 L 567 0 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5"],
    "e": ["e", 567, "M 189 252 L 567 252 L 567 315 L 536 378 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5"],
    "f": ["f", 378, "M 410 662 L 346 662 L 284 630 L 252 536 L 252 0 M 158 441 L 378 441"],
    "g": ["g", 598, "M 567 441 L 567 -63 L 536 -158 L 504 -189 L 441 -220 L 346 -220 L 284 -189 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5"],
    "h": ["h", 598, "M 220 662 L 220 0 M 220 315 L 315 410 L 378 441 L 472 441 L 536 410 L 567 315 L 567 0"],
    "i": ["i", 252, "M 189 662 L 220 630 L 252 662 L 220 693 L 189 662 M 220 441 L 220 0"],
    "j": ["j", 315, "M 252 662 L 284 630 L 315 662 L 284 693 L 252 662 M 284 441 L 284 -94.5 L 252 -189 L 189 -220 L 126 -220"],
    "k": ["k", 536, "M 220 662 L 220 0 M 536 441 L 220 126 M 346 252 L 567 0"],
    "l": ["l", 252, "M 220 662 L 220 0"],
    "m": ["m", 945, "M 220 441 L 220 0 M 220 315 L 315 410 L 378 441 L 472 441 L 536 410 L 567 315 L 567 0 M 567 315 L 662 410 L 724 441 L 819 441 L 882 410 L 914 315 L 914 0"],
    "n": ["n", 598, "M 220 441 L 220 0 M 220 315 L 315 410 L 378 441 L 472 441 L 536 410 L 567 315 L 567 0"],
    "o": ["o", 598, "M 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 L 598 189 L 598 252 L 567 346 L 504 410 L 441 441 L 346 441"],
    "p": ["p", 598, "M 220 441 L 220 -220 M 220 346 L 284 410 L 346 441 L 441 441 L 504 410 L 567 346 L 598 252 L 598 189 L 567 94.5 L 504 31.5 L 441 0 L 346 0 L 284 31.5 L 220 94.5"],
    "q": ["q", 598, "M 567 441 L 567 -220 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5"],
    "r": ["r", 410, "M 220 441 L 220 0 M 220 252 L 252 346 L 315 410 L 378 441 L 472 441"],
    "s": ["s", 536, "M 536 346 L 504 410 L 410 441 L 315 441 L 220 410 L 189 346 L 220 284 L 284 252 L 441 220 L 504 189 L 536 126 L 536 94.5 L 504 31.5 L 410 0 L 315 0 L 220 31.5 L 189 94.5"],
    "t": ["t", 378, "M 252 662 L 252 126 L 284 31.5 L 346 0 L 410 0 M 158 441 L 378 441"],
    "u": ["u", 598, "M 220 441 L 220 126 L 252 31.5 L 315 0 L 410 0 L 472 31.5 L 567 126 M 567 441 L 567 0"],
    "v": ["v", 504, "M 158 441 L 346 0 M 536 441 L 346 0"],
    "w": ["w", 693, "M 189 441 L 315 0 M 441 441 L 315 0 M 441 441 L 567 0 M 693 441 L 567 0"],
    "x": ["x", 536, "M 189 441 L 536 0 M 536 441 L 189 0"],
    "y": ["y", 504, "M 158 441 L 346 0 M 536 441 L 346 0 L 284 -126 L 220 -189 L 158 -220 L 126 -220"],
    "z": ["z", 536, "M 536 441 L 189 0 M 189 441 L 536 441 M 189 0 L 536 0"],
    "{": ["braceleft", 441, "M 378 788 L 315 756 L 284 724 L 252 662 L 252 598 L 284 536 L 315 504 L 346 441 L 346 378 L 284 315 M 315 756 L 284 693 L 284 630 L 315 567 L 346 536 L 378 472 L 378 410 L 346 346 L 220 284 L 346 220 L 378 158 L 378 94.5 L 346 31.5 L 315 0 L 284 -63 L 284 -126 L 315 -189 M 284 252 L 346 189 L 346 126 L 315 63 L 284 31.5 L 252 -31.5 L 252 -94.5 L 284 -158 L 315 -189 L 378 -220"],
    "|": ["bar", 252, "M 220 788 L 220 -220"],
    "}": ["braceright", 441, "M 252 788 L 315 756 L 346 724 L 378 662 L 378 598 L 346 536 L 315 504 L 284 441 L 284 378 L 346 315 M 315 756 L 346 693 L 346 630 L 315 567 L 284 536 L 252 472 L 252 410 L 284 346 L 410 284 L 284 220 L 252 158 L 252 94.5 L 284 31.5 L 315 0 L 346 -63 L 346 -126 L 315 -189 M 346 252 L 284 189 L 284 126 L 315 63 L 346 31.5 L 378 -31.5 L 378 -94.5 L 346 -158 L 315 -189 L 252 -220"],
    "~": ["asciitilde", 756, "M 189 189 L 189 252 L 220 346 L 284 378 L 346 378 L 410 346 L 536 252 L 598 220 L 662 220 L 724 252 L 756 315 M 189 252 L 220 315 L 284 346 L 346 346 L 410 315 L 536 220 L 598 189 L 662 189 L 724 220 L 756 315 L 756 378"],
    "&#xa0;": ["nbspace", 378, ""],
    "&#xa1;": ["exclamdown", 315, "M 252 0 L 252 441 M 252 598 L 284 630 L 252 662 L 220 630 L 252 598"],
    "&#xa2;": ["cent", 176, "M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 375 551 L 375 -154"],
    "&#xa5;": ["yen", 567, "M 126 662 L 378 346 L 378 0 M 630 662 L 378 346 M 236 158 L 520 158 M 236 252 L 520 252"],
    "&#xa6;": ["brokenbar", 75.6, "M 236 236 L 236 -66.1 M 236 709 L 236 406"],
    "&#xa8;": ["dieresis", 567, " M 279 693 L 247 662 L 279 630 L 310 662 L 279 693 M 540 693 L 509 662 L 540 630 L 572 662 L 540 693"],
    "&#xa9;": ["copyright", 693, "M 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 693 252 L 693 410 L 662 504 L 630 567 L 567 630 L 504 662 L 378 662 M 551 410 L 536 441 L 504 472 L 472 488 L 410 488 L 378 472 L 346 441 L 331 410 L 315 362 L 315 284 L 331 236 L 346 205 L 378 173 L 410 158 L 472 158 L 504 173 L 536 205 L 551 236"],
    "&#xaa;": ["ordfeminine", 299, "M 410 850 L 410 630 M 410 803 L 378 835 L 346 850 L 299 850 L 268 835 L 236 803 L 220 756 L 220 724 L 236 677 L 268 646 L 299 630 L 346 630 L 378 646 L 410 677"],
    "&#xab;": ["guillemotleft", 454, "M 290 454 L 88.2 227 L 290 0 M 416 454 L 214 227 L 416 0"],
    "&#xae;": ["registered", 693, "M 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 693 252 L 693 410 L 662 504 L 630 567 L 567 630 L 504 662 L 378 662 M 331 488 L 331 158 M 331 488 L 472 488 L 520 472 L 536 457 L 551 425 L 551 394 L 536 362 L 520 346 L 472 331 L 331 331 M 441 331 L 551 158"],
    "&#xb0;": ["degree", 249, "M 236 765 L 217 756 L 198 737 L 189 718 L 180 690 L 180 643 L 189 614 L 198 595 L 217 576 L 236 567 L 274 567 L 293 576 L 312 595 L 321 614 L 331 643 L 331 690 L 321 718 L 312 737 L 293 756 L 274 765 L 236 765"],
    "&#xb1;": ["plusminus", 655, "M 630 37.8 L 1083.6 37.8 M 857 643 L 857 189 M 630 416 L 1083.6 416"],
    "&#xb2;": ["twosuperior", 315, "M 236 882 L 236 898 L 252 929 L 268 945 L 299 961 L 362 961 L 394 945 L 410 929 L 425 898 L 425 866 L 410 835 L 378 788 L 220 630 L 441 630"],
    "&#xb3;": ["threesuperior", 315, "M 252 961 L 425 961 L 331 835 L 378 835 L 410 819 L 425 803 L 441 756 L 441 724 L 425 677 L 394 646 L 346 630 L 299 630 L 252 646 L 236 662 L 220 693"],
    "&#xb4;": ["acute", 378, " M 431 758 L 305 588"],
    "&#xb7;": ["middot", 363, "M 340 416 L 302 378 L 340 340 L 378 378 L 340 416"],
    "&#xb9;": ["onesuperior", 315, "M 268 898 L 299 914 L 346 961 L 346 630"],
    "&#xba;": ["ordmasculine", 249, "M 236 765 L 217 756 L 198 737 L 189 718 L 180 690 L 180 643 L 189 614 L 198 595 L 217 576 L 236 567 L 274 567 L 293 576 L 312 595 L 321 614 L 331 643 L 331 690 L 321 718 L 312 737 L 293 756 L 274 765 L 236 765"],
    "&#xbb;": ["guillemotright", 454, "M 88.2 454 L 290 227 L 88.2 0 M 214 454 L 416 227 L 214 0"],
    "&#xbc;": ["onequarter", 1209.6, "M 170 699 L 208 718 L 265 775 L 265 378 M 756 788 L 189 -220 M 775 397 L 586 132 L 869 132 M 775 397 L 775 0"],
    "&#xbd;": ["onehalf", 1209.6, "M 170 699 L 208 718 L 265 775 L 265 378 M 756 788 L 189 -220 M 605 302 L 605 321 L 624 359 L 643 378 L 680 397 L 756 397 L 794 378 L 813 359 L 832 321 L 832 284 L 813 246 L 775 189 L 586 0 L 850 0"],
    "&#xbe;": ["threequarters", 1209.6, "M 151 775 L 359 775 L 246 624 L 302 624 L 340 605 L 359 586 L 378 529 L 378 491 L 359 435 L 321 397 L 265 378 L 208 378 L 151 397 L 132 416 L 113 454 M 756 788 L 189 -220 M 775 397 L 586 132 L 869 132 M 775 397 L 775 0"],
    "&#xbf;": ["questiondown", 567, "M 567 158 L 567 126 L 536 63 L 504 31.5 L 441 0 L 315 0 L 252 31.5 L 220 63 L 189 126 L 189 189 L 220 252 L 252 284 L 378 346 L 378 441 M 378 598 L 410 630 L 378 662 L 346 630 L 378 598"],
    "&#xc0;": ["Agrave", 567, "M 378 662 L 126 0 M 378 662 L 630 0 M 220 220 L 536 220 M 315 1023.8 L 406 901"],
    "&#xc1;": ["Aacute", 567, "M 378 662 L 126 0 M 378 662 L 630 0 M 220 220 L 536 220 M 506 977 L 380 807"],
    "&#xc2;": ["Acircumflex", 567, "M 378 662 L 126 0 M 378 662 L 630 0 M 220 220 L 536 220 M 274 810 L 381 910 L 488 810"],
    "&#xc3;": ["Atilde", 567, "M 378 662 L 126 0 M 378 662 L 630 0 M 220 220 L 536 220 M 227 775 L 227 813 L 246 869 L 284 888 L 321 888 L 359 869 L 435 813 L 472 794 L 510 794 L 548 813 L 567 850 M 227 813 L 246 850 L 284 869 L 321 869 L 359 850 L 435 794 L 472 775 L 510 775 L 548 794 L 567 850 L 567 888"],
    "&#xc4;": ["Adieresis", 567, "M 378 662 L 126 0 M 378 662 L 630 0 M 220 220 L 536 220 M 281 914 L 249 882 L 281 850 L 312 882 L 281 914 M 538 914 L 507 882 L 538 850 L 570 882 L 538 914"],
    "&#xc5;": ["Aring", 567, "M 378 662 L 126 0 M 378 662 L 630 0 M 220 220 L 536 220 M 359 1048.9 L 340 1039.5 L 321 1020.6 L 312 1001.7 L 302 973 L 302 926 L 312 898 L 321 879 L 340 860 L 359 850 L 397 850 L 416 860 L 435 879 L 444 898 L 454 926 L 454 973 L 444 1001.7 L 435 1020.6 L 416 1039.5 L 397 1048.9 L 359 1048.9"],
    "&#xc8;": ["Egrave", 598, "M 220 662 L 220 0 M 220 662 L 630 662 M 220 346 L 472 346 M 220 0 L 630 0 M 331 1023.8 L 422 901"],
    "&#xc9;": ["Eacute", 598, "M 220 662 L 220 0 M 220 662 L 630 662 M 220 346 L 472 346 M 220 0 L 630 0 M 519 993 L 393 823"],
    "&#xca;": ["Ecircumflex", 598, "M 220 662 L 220 0 M 220 662 L 630 662 M 220 346 L 472 346 M 220 0 L 630 0 M 290 810 L 397 910 L 504 810"],
    "&#xcb;": ["Edieresis", 598, "M 220 662 L 220 0 M 220 662 L 630 662 M 220 346 L 472 346 M 220 0 L 630 0 M 274 914 L 242 882 L 274 850 L 305 882 L 274 914 M 514 914 L 482 882 L 514 850 L 545 882 L 514 914"],
    "&#xcc;": ["Igrave", 252, "M 220 662 L 220 0 M 158 1023.8 L 249 901"],
    "&#xcd;": ["Iacute", 252, "M 220 662 L 220 0 M 351 1007.2 L 225 837"],
    "&#xce;": ["Icircumflex", 252, "M 220 662 L 220 0 M 117 810 L 224 910 L 331 810"],
    "&#xcf;": ["Idieresis", 252, "M 220 662 L 220 0 M 131 914 L 99.4 882 L 131 850 L 162 882 L 131 914 M 373 914 L 342 882 L 373 850 L 405 882 L 373 914"],
    "&#xd0;": ["Eth", 662, "M 110 252 L 394 252 M 220 662 L 220 0 M 220 662 L 441 662 L 536 630 L 598 567 L 630 504 L 662 410 L 662 252 L 630 158 L 598 94.5 L 536 31.5 L 441 0 L 220 0"],
    "&#xd1;": ["Ntilde", 693, "M 220 662 L 220 0 M 220 662 L 662 0 M 662 662 L 662 0 M 252 775 L 252 813 L 271 869 L 309 888 L 346 888 L 384 869 L 460 813 L 498 794 L 535 794 L 573 813 L 592 850 M 252 813 L 271 850 L 309 869 L 346 869 L 384 850 L 460 794 L 498 775 L 535 775 L 573 794 L 592 850 L 592 888"],
    "&#xd2;": ["Ograve", 693, "M 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 693 252 L 693 410 L 662 504 L 630 567 L 567 630 L 504 662 L 378 662 M 378 1023.8 L 469 901"],
    "&#xd3;": ["Oacute", 693, "M 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 693 252 L 693 410 L 662 504 L 630 567 L 567 630 L 504 662 L 378 662 M 565 1034.1 L 439 864"],
    "&#xd4;": ["Ocircumflex", 693, "M 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 693 252 L 693 410 L 662 504 L 630 567 L 567 630 L 504 662 L 378 662 M 337 810 L 444 910 L 551 810"],
    "&#xd5;": ["Otilde", 693, "M 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 693 252 L 693 410 L 662 504 L 630 567 L 567 630 L 504 662 L 378 662 M 252 775 L 252 813 L 271 869 L 309 888 L 346 888 L 384 869 L 460 813 L 498 794 L 535 794 L 573 813 L 592 850 M 252 813 L 271 850 L 309 869 L 346 869 L 384 850 L 460 794 L 498 775 L 535 775 L 573 794 L 592 850 L 592 888"],
    "&#xd6;": ["Odieresis", 693, "M 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 693 252 L 693 410 L 662 504 L 630 567 L 567 630 L 504 662 L 378 662 M 317 914 L 285 882 L 317 850 L 348 882 L 317 914 M 565 914 L 534 882 L 565 850 L 597 882 L 565 914"],
    "&#xd7;": ["multiply", 536, "M 189 441 L 536 0 M 536 441 L 189 0"],
    "&#xd8;": ["Oslash", 693, "M 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 693 252 L 693 410 L 662 504 L 630 567 L 567 630 L 504 662 L 378 662 M 680 765 L 170 -142"],
    "&#xd9;": ["Ugrave", 693, "M 220 662 L 220 189 L 252 94.5 L 315 31.5 L 410 0 L 472 0 L 567 31.5 L 630 94.5 L 662 189 L 662 662 M 378 1023.8 L 469 901"],
    "&#xda;": ["Uacute", 693, "M 220 662 L 220 189 L 252 94.5 L 315 31.5 L 410 0 L 472 0 L 567 31.5 L 630 94.5 L 662 189 L 662 662 M 584 1e+03 L 458 830"],
    "&#xdb;": ["Ucircumflex", 693, "M 220 662 L 220 189 L 252 94.5 L 315 31.5 L 410 0 L 472 0 L 567 31.5 L 630 94.5 L 662 189 L 662 662 M 337 810 L 444 910 L 551 810"],
    "&#xdc;": ["Udieresis", 693, "M 220 662 L 220 189 L 252 94.5 L 315 31.5 L 410 0 L 472 0 L 567 31.5 L 630 94.5 L 662 189 L 662 662 M 309 914 L 278 882 L 309 850 L 341 882 L 309 914 M 573 914 L 541 882 L 573 850 L 604 882 L 573 914"],
    "&#xdd;": ["Yacute", 567, "M 126 662 L 378 346 L 378 0 M 630 662 L 378 346 M 525 1004.2 L 399 834"],
    "&#xe0;": ["agrave", 598, "M 567 441 L 567 0 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 331 740 L 422 617"],
    "&#xe1;": ["aacute", 598, "M 567 441 L 567 0 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 531 809 L 405 639"],
    "&#xe2;": ["acircumflex", 598, "M 567 441 L 567 0 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 290 621 L 397 721 L 504 621"],
    "&#xe3;": ["atilde", 598, "M 567 441 L 567 0 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 233 586 L 233 624 L 252 680 L 290 699 L 328 699 L 365 680 L 441 624 L 479 605 L 517 605 L 554 624 L 573 662 M 233 624 L 252 662 L 290 680 L 328 680 L 365 662 L 441 605 L 479 586 L 517 586 L 554 605 L 573 662 L 573 699"],
    "&#xe4;": ["adieresis", 598, "M 567 441 L 567 0 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 299 693 L 268 662 L 299 630 L 331 662 L 299 693 M 551 693 L 520 662 L 551 630 L 583 662 L 551 693"],
    "&#xe5;": ["aring", 598, "M 567 441 L 567 0 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 397 860 L 378 850 L 359 832 L 350 813 L 340 784 L 340 737 L 350 709 L 359 690 L 378 671 L 397 662 L 435 662 L 454 671 L 472 690 L 482 709 L 491 737 L 491 784 L 482 813 L 472 832 L 454 850 L 435 860 L 397 860"],
    "&#xe8;": ["egrave", 567, "M 189 252 L 567 252 L 567 315 L 536 378 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 315 740 L 406 617"],
    "&#xe9;": ["eacute", 567, "M 189 252 L 567 252 L 567 315 L 536 378 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 517 806 L 391 636"],
    "&#xea;": ["ecircumflex", 567, "M 189 252 L 567 252 L 567 315 L 536 378 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 274 621 L 381 721 L 488 621"],
    "&#xeb;": ["edieresis", 567, "M 189 252 L 567 252 L 567 315 L 536 378 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 291 693 L 259 662 L 291 630 L 322 662 L 291 693 M 528 693 L 497 662 L 528 630 L 560 662 L 528 693"],
    "&#xec;": ["igrave", 252, "M 220 441 L 220 0 M 158 740 L 249 617"],
    "&#xed;": ["iacute", 252, "M 220 441 L 220 0 M 368 762 L 242 592"],
    "&#xee;": ["icircumflex", 252, "M 220 441 L 220 0 M 117 621 L 224 721 L 331 621"],
    "&#xef;": ["idieresis", 252, "M 220 441 L 220 0 M 126 693 L 94.4 662 L 126 630 L 157 662 L 126 693 M 378 693 L 347 662 L 378 630 L 410 662 L 378 693"],
    "&#xf1;": ["ntilde", 598, "M 220 441 L 220 0 M 220 315 L 315 410 L 378 441 L 472 441 L 536 410 L 567 315 L 567 0 M 233 586 L 233 624 L 252 680 L 290 699 L 328 699 L 365 680 L 441 624 L 479 605 L 517 605 L 554 624 L 573 662 M 233 624 L 252 662 L 290 680 L 328 680 L 365 662 L 441 605 L 479 586 L 517 586 L 554 605 L 573 662 L 573 699"],
    "&#xf2;": ["ograve", 598, "M 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 L 598 189 L 598 252 L 567 346 L 504 410 L 441 441 L 346 441 M 331 740 L 422 617"],
    "&#xf3;": ["oacute", 598, "M 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 L 598 189 L 598 252 L 567 346 L 504 410 L 441 441 L 346 441 M 519 808 L 393 638"],
    "&#xf4;": ["ocircumflex", 598, "M 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 L 598 189 L 598 252 L 567 346 L 504 410 L 441 441 L 346 441 M 290 621 L 397 721 L 504 621"],
    "&#xf5;": ["otilde", 598, "M 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 L 598 189 L 598 252 L 567 346 L 504 410 L 441 441 L 346 441 M 233 586 L 233 624 L 252 680 L 290 699 L 328 699 L 365 680 L 441 624 L 479 605 L 517 605 L 554 624 L 573 662 M 233 624 L 252 662 L 290 680 L 328 680 L 365 662 L 441 605 L 479 586 L 517 586 L 554 605 L 573 662 L 573 699"],
    "&#xf6;": ["odieresis", 598, "M 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 L 598 189 L 598 252 L 567 346 L 504 410 L 441 441 L 346 441 M 295 693 L 263 662 L 295 630 L 326 662 L 295 693 M 556 693 L 524 662 L 556 630 L 587 662 L 556 693"],
    "&#xf7;": ["divide", 614, "M 378 567 L 346 536 L 378 504 L 410 536 L 378 567 M 378 252 L 346 220 L 378 189 L 410 220 L 378 252 M 165 378 L 591 378"],
    "&#xf8;": ["oslash", 598, "M 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 L 598 189 L 598 252 L 567 346 L 504 410 L 441 441 L 346 441 M 573 573 L 176 -132"],
    "&#xf9;": ["ugrave", 598, "M 220 441 L 220 126 L 252 31.5 L 315 0 L 410 0 L 472 31.5 L 567 126 M 567 441 L 567 0 M 331 740 L 422 617"],
    "&#xfa;": ["uacute", 598, "M 220 441 L 220 126 L 252 31.5 L 315 0 L 410 0 L 472 31.5 L 567 126 M 567 441 L 567 0 M 535 784 L 409 614"],
    "&#xfb;": ["ucircumflex", 598, "M 220 441 L 220 126 L 252 31.5 L 315 0 L 410 0 L 472 31.5 L 567 126 M 567 441 L 567 0 M 290 621 L 397 721 L 504 621"],
    "&#xfc;": ["udieresis", 598, "M 220 441 L 220 126 L 252 31.5 L 315 0 L 410 0 L 472 31.5 L 567 126 M 567 441 L 567 0 M 295 693 L 263 662 L 295 630 L 326 662 L 295 693 M 556 693 L 524 662 L 556 630 L 587 662 L 556 693"],
    "&#xfd;": ["yacute", 504, "M 158 441 L 346 0 M 536 441 L 346 0 L 284 -126 L 220 -189 L 158 -220 L 126 -220 M 480 779 L 354 609"],
    "&#xff;": ["ydieresis", 504, "M 158 441 L 346 0 M 536 441 L 346 0 L 284 -126 L 220 -189 L 158 -220 L 126 -220 M 256 693 L 225 662 L 256 630 L 288 662 L 256 693 M 500 693 L 468 662 L 500 630 L 531 662 L 500 693"],
    "&#x2013;": ["endash", 614, "M 165 284 L 591 284"],
    "&#x2014;": ["emdash", 819, "M 220 284 L 788 284"],
    "&#x201c;": ["quotedblleft", 402, "M 213 652 L 184 595 L 184 539 L 198 510 L 213 539 L 198 567 L 184 539 M 354 652 L 326 595 L 326 539 L 340 510 L 354 539 L 340 567 L 326 539"],
    "&#x201d;": ["quotedblright", 402, "M 184 567 L 170 595 L 184 624 L 198 595 L 198 539 L 184 482 L 170 454 M 326 567 L 312 595 L 326 624 L 340 595 L 340 539 L 326 482 L 312 454"],
    "&#x2039;": ["guilsinglleft", 302, "M 290 454 L 88.2 227 L 290 0"],
    "&#x203a;": ["guilsinglright", 302, "M 88.2 454 L 290 227 L 88.2 0"],
    "&#x20ac;": ["Euro", 662, "M 662 504 L 630 567 L 567 630 L 504 662 L 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 M 142 236 L 425 236 M 142 331 L 425 331"],
    "&#x0178;": ["Ydieresis", 567, "M 126 662 L 378 346 L 378 0 M 630 662 L 378 346 M 290 914 L 258 882 L 290 850 L 321 882 L 290 914 M 529 914 L 498 882 L 529 850 L 561 882 L 529 914"],
    "&#x102;": ["Abreve", 567, "M 378 662 L 126 0 M 378 662 L 630 0 M 220 220 L 536 220 M298.901 879.118C298.901 879.118 339.845 822 390 822C440.155 822 481.099 879.118 481.099 879.118"],
    "&#x114;": ["Ebreve", 598, "M 220 662 L 220 0 M 220 662 L 630 662 M 220 346 L 472 346 M 220 0 L 630 0 M308.901 879.118C308.901 879.118 349.845 822 400 822C450.155 822 491.099 879.118 491.099 879.118"],
    "&#x11E;": ["Gbreve", 662, "M 662 504 L 630 567 L 567 630 L 504 662 L 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 662 252 M 504 252 L 662 252 M328.901 879.118C328.901 879.118 369.845 822 420 822C470.155 822 511.099 879.118 511.099 879.118"],
    "&#x12C;": ["Ibreve", 252, "M 220 662 L 220 0 M158.901 879.118C158.901 879.118 199.845 822 250 822C300.155 822 341.099 879.118 341.099 879.118"],
    "&#x14E;": ["Obreve", 693, "M 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 L 693 252 L 693 410 L 662 504 L 630 567 L 567 630 L 504 662 L 378 662 M338.901 879.118C338.901 879.118 379.845 822 430 822C480.155 822 521.099 879.118 521.099 879.118"],
    "&#x16C;": ["Ubreve", 693, "M 220 662 L 220 189 L 252 94.5 L 315 31.5 L 410 0 L 472 0 L 567 31.5 L 630 94.5 L 662 189 L 662 662 M338.901 879.118C338.901 879.118 379.845 822 430 822C480.155 822 521.099 879.118 521.099 879.118"],
    "&#x103;": ["abreve", 598, "M 567 441 L 567 0 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M308.901 659.118C308.901 659.118 349.845 602 400 602C450.155 602 491.099 659.118 491.099 659.118"],
    "&#x115;": ["ebreve", 567, "M 189 252 L 567 252 L 567 315 L 536 378 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M298.901 659.118C298.901 659.118 339.845 602 390 602C440.155 602 481.099 659.118 481.099 659.118"],
    "&#x11F;": ["gbreve", 598, "M 567 441 L 567 -63 L 536 -158 L 504 -189 L 441 -220 L 346 -220 L 284 -189 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M308.901 659.118C308.901 659.118 349.845 602 400 602C450.155 602 491.099 659.118 491.099 659.118"],
    "&#x12D;": ["ibreve", 252, "M 220 441 L 220 0 M198.901 659.118C198.901 659.118 239.845 602 290 602C340.155 602 381.099 659.118 381.099 659.118"],
    "&#x14F;": ["obreve", 598, "M 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 L 598 189 L 598 252 L 567 346 L 504 410 L 441 441 L 346 441 M308.901 659.118C308.901 659.118 349.845 602 400 602C450.155 602 491.099 659.118 491.099 659.118"],
    "&#x16D;": ["ubreve", 598, "M 220 441 L 220 126 L 252 31.5 L 315 0 L 410 0 L 472 31.5 L 567 126 M 567 441 L 567 0 M288.901 659.118C288.901 659.118 329.845 602 380 602C430.155 602 471.099 659.118 471.099 659.118"],
    "&#x106;": ["Cacute", 662, "M 662 504 L 630 567 L 567 630 L 504 662 L 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 M 575 994 L 449 824"],
    "&#x107;": ["cacute", 567, "M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 509 763 L 383 593"],
    "&#x110;": ["Dcroat", 662, "M 110 252 L 394 252 M 220 662 L 220 0 M 220 662 L 441 662 L 536 630 L 598 567 L 630 504 L 662 410 L 662 252 L 630 158 L 598 94.5 L 536 31.5 L 441 0 L 220 0"],
    "&#x111;": ["dcroat", 598, "M 410 551 L 693 551 M 567 662 L 567 0 M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5"],
    "&#x10C;": ["Ccaron", 662, "M 662 504 L 630 567 L 567 630 L 504 662 L 378 662 L 315 630 L 252 567 L 220 504 L 189 410 L 189 252 L 220 158 L 252 94.5 L 315 31.5 L 378 0 L 504 0 L 567 31.5 L 630 94.5 L 662 158 M 491 887 L 406 806 L 320 887"],
    "&#x10D;": ["ccaron", 567, "M 567 346 L 504 410 L 441 441 L 346 441 L 284 410 L 220 346 L 189 252 L 189 189 L 220 94.5 L 284 31.5 L 346 0 L 441 0 L 504 31.5 L 567 94.5 M 479 685 L 393 605 L 307 685"],
    "&#x160;": ["Scaron", 630, "M 630 567 L 567 630 L 472 662 L 346 662 L 252 630 L 189 567 L 189 504 L 220 441 L 252 410 L 315 378 L 504 315 L 567 284 L 598 252 L 630 189 L 630 94.5 L 567 31.5 L 472 0 L 346 0 L 252 31.5 L 189 94.5 M 479 887 L 393 806 L 307 887"],
    "&#x161;": ["scaron", 536, "M 536 346 L 504 410 L 410 441 L 315 441 L 220 410 L 189 346 L 220 284 L 284 252 L 441 220 L 504 189 L 536 126 L 536 94.5 L 504 31.5 L 410 0 L 315 0 L 220 31.5 L 189 94.5 M 441 685 L 355 605 L 270 685"],
    "&#x17D;": ["Zcaron", 630, "M 630 662 L 189 0 M 189 662 L 630 662 M 189 0 L 630 0 M 479 887 L 393 806 L 307 887"],
    "&#x17E;": ["zcaron", 536, "M 536 441 L 189 0 M 189 441 L 536 441 M 189 0 L 536 0 M 441 685 L 355 605 L 270 685"],
    "&#x2D8;": ["breve", 504, "M258.901 499.118C258.901 499.118 299.845 442 350 442C400.155 442 441.099 499.118 441.099 499.118"],
    "&#xdf;": ["germandbls", 662, "M360 -0L504 -0L598 31.5L630 63L662 126L662 220L630 284L598 315L504 346C669.388 433.156 659.792 630.885 488 662C441.446 670.099 377.955 685.164 288.953 596.163C199.952 507.161 220 429.783 220 342C220 197.04 220 -80 220 -80"],
    "&#x131;": ["dotlessi", 252, "M220 441L220 -0"],
    "&#xb8;": ["cedilla", 662, "M445.975 -2.11864C437.836 -58.085 475.827 -48.0979 523.305 -57.2034C538.07 -152.045 449.747 -135.762 372.881 -152.542"],
    "&#x130;": ["Idotaccent", 252, "M189 810L220 778L252 810L220 841L189 810M220 662L220 -0"],
    "&#x15E;": ["Scedilla", 630, "M408.706 -3.21479C400.567 -59.1812 438.558 -49.1941 486.036 -58.2995C500.801 -153.141 412.478 -144.396 335.612 -143.639M630 567L567 630L472 662L346 662L252 630L189 567L189 504L220 441L252 410L315 378L504 315L567 284L598 252L630 189L630 94.5L567 31.5L472 -0L346 -0L252 31.5L189 94.5"],
    "&#xE6;": ["ae", 910, "M567.257 252L915.601 252L915.601 315L884.601 378L852.601 410L789.601 441L694.601 441L632.601 410L568.601 346M568.601 94.5L632.601 31.5L694.601 -0L789.601 -0L852.601 31.5L915.601 94.5M567 441L567 -0M567 346L504 410L441 441L346 441L284 410L220 346L189 252L189 189L220 94.5L284 31.5L346 -0L441 -0L504 31.5L567 94.5"],
    "&#xe7;": ["ccedilla", 567, "M397.309 0.971243C395.35 -74.3069 390.855 -45.7805 438.333 -54.886C442.284 -121.919 418.076 -107.953 365.929 -108.511M567 346L504 410L441 441L346 441L284 410L220 346L189 252L189 189L220 94.5L284 31.5L346 -0L441 -0L504 31.5L567 94.5"],
    "&#x15F;": ["scedilla", 536, "M362.369 -2.11864L359.196 -50.0427C358.075 -66.9611 396.223 -58.0033 424.498 -63.4259C439.263 -158.268 385.519 -141.673 307.809 -141.564M536 346L504 410L410 441L315 441L220 410L189 346L220 284L284 252L441 220L504 189L536 126L536 94.5L504 31.5L410 -0L315 -0L220 31.5L189 94.5"],
    "&#xc7;": ["Ccedilla", 662, "M445.975 -2.11864C437.836 -58.085 475.827 -48.0979 523.305 -57.2034C538.07 -152.045 449.747 -135.762 372.881 -152.542M662 504L630 567L567 630L504 662L378 662L315 630L252 567L220 504L189 410L189 252L220 158L252 94.5L315 31.5L378 -0L504 -0L567 31.5L630 94.5L662 158"],
    "&#xC6;": ["AE", 910, "M980 -0L570 -0L570 662L980 662M570 346L822 346M568 662L176 -0M310 220L568 220"],
    "&#xa3;": ["sterling", 536, "M150 252L434 252M220 -0L598 -0M220 -0L220 471.119C220 611.417 276.538 662 354.657 662C432.777 662 492.264 604.807 492.264 471.119"]
  };
  toSvg() {
    const w = this.#image.width;
    const h = this.#image.height;
    const svg = [];
    svg.push(`<svg id="svg-canvas" height="100vh" viewBox="0 0 ${w} ${h}">`);
    svg.push(`
      <rect x="0" y="0" width="${w}" height="${h}" style="stroke: black; stroke-width: 1; fill: none"/>
      <g style="stroke: black; stroke-width: 1; fill: none;">
    `);
    const step = this.#cutoff / this.#nbLayers;
    for (let c = this.#nbLayers; c >= 1; c--) {
      const x = c * step;
      const dy = c === this.#nbLayers ? 0 : Math.random() * this.#lineHeight * 5;
      svg.push(this.#toSvgScan(x, 0, dy));
    }
    svg.push("</g></svg>");
    return svg.join("");
  }
};
onmessage = function(e) {
  const { params, imageData } = e.data;
  const textorizer2 = new Textorizer2(params, imageData);
  postMessage(textorizer2.toSvg());
};
